Trae，经过刚才的服务器行为测试，我确认网站部署在 Cloudflare Pages 上，我们需要调整 Clean URL 的策略以“顺应服务器规则”，避免重定向循环。

⚠️ 服务器强制规则 (Cloudflare Pages)：

目录/聚合页 (Directory)： 访问 /blog 会被强制 301 重定向 到 /blog/ (带斜杠)。

文章页/单页 (File)： 访问 /payment-guide.html 会被重定向到 /payment-guide (无斜杠)。

🛠 请立即修正代码逻辑，执行“混合 URL 策略”：

1. 聚合页/目录页规则 (Blog 首页、分类页、标签页)

规则： URL 必须 保留 尾部斜杠 /。

修改点：

Canonical: <link rel="canonical" href="https://domain.com/blog/" />

Nav Link: <a href="/blog/">

Schema/Sitemap: URL 必须以 / 结尾。

2. 文章页/详情页规则 (具体的 Post)

规则： URL 必须 移除 尾部斜杠 /，且 移除 .html。

修改点：

Canonical: <link rel="canonical" href="https://domain.com/payment-guide" />

Internal Link: <a href="/payment-guide">

Schema/Sitemap: URL 绝对不要 以 / 结尾。

3. 通用清理规则 (全站适用)

移除 /index： 任何 URL 结尾如果包含 /index 或 /index.html，直接截断到父级目录。

根目录例外： 首页始终为 https://domain.com/。

执行要求： 请扫描生成 Sitemap、Canonical 标签、导航链接和 Schema 结构化数据的代码，按照上述**“目录带斜杠，文章去斜杠”**的逻辑进行逻辑分流。修改后，请确认这能匹配 Cloudflare 的默认行为。